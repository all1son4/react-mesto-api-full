(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{20:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),c=n(11),i=n.n(c),s=(n(20),n(14)),r=n(3),u=n(2),l=n.p+"static/media/header__logo.bbe2a6ea.svg",p=n(0);var d=function(e){var t=e.loggedIn,n=e.onLogout,a=e.email,o=Object(u.g)(),c=Object(u.f)();return Object(p.jsxs)("header",{className:"header page__header",children:[Object(p.jsx)("img",{src:l,className:"header__logo",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u043f\u0440\u043e\u0435\u043a\u0442\u0430"}),Object(p.jsxs)("div",{className:"header__info-block",children:[t?Object(p.jsx)("p",{className:"header__email",children:a}):"",t?Object(p.jsx)("button",{type:"button",className:"header__button",onClick:n,children:"\u0412\u044b\u0439\u0442\u0438"}):"/sign-in"===c.pathname?Object(p.jsx)("button",{type:"button",className:"header__button",onClick:function(e){e.preventDefault(),o("/sign-up")},children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}):Object(p.jsx)("button",{type:"button",className:"header__button",onClick:function(e){e.preventDefault(),o("/sign-in")},children:"\u0412\u043e\u0439\u0442\u0438"})]})]})},m=o.a.createContext();var j=function(e){var t=o.a.useContext(m),n=e.likes.some((function(e){return e._id===t._id})),a="element__like-button ".concat(n?"element__like-button_active":"element__like-button_unactive");return Object(p.jsxs)("div",{className:"element",children:[e.id===t._id&&Object(p.jsx)("button",{type:"button",className:"element__remove-button",onClick:function(){e.onDeleteClick(e.card)}}),Object(p.jsx)("img",{className:"element__image",src:e.link,alt:e.name,onClick:function(){e.onCardClick(e.card)}}),Object(p.jsxs)("div",{className:"element__block",children:[Object(p.jsx)("h2",{className:"element__title",children:e.name}),Object(p.jsxs)("div",{className:"element__like-block",children:[Object(p.jsx)("button",{type:"button",className:a,onClick:function(){e.onCardLike(e.card)}}),Object(p.jsx)("p",{className:"element__like-counter",children:e.likes.length})]})]})]})},b=o.a.createContext();var f=function(e){var t=e.onEditAvatar,n=e.onEditProfile,a=e.onAddPlace,c=e.onCardClick,i=e.onCardDelete,s=e.onDeleteClick,r=e.onCardLike,u=o.a.useContext(m),l=o.a.useContext(b);return Object(p.jsxs)("main",{className:"content",children:[Object(p.jsxs)("section",{className:"profile page__content",children:[Object(p.jsxs)("div",{className:"profile__container",children:[Object(p.jsx)("div",{className:"profile__image",style:{backgroundImage:"url(".concat(u.avatar,")")},onClick:t,children:Object(p.jsx)("div",{className:"profile__overlay"})}),Object(p.jsx)("h1",{className:"profile__name",children:u.name}),Object(p.jsx)("p",{className:"profile__description",children:u.about}),Object(p.jsx)("button",{type:"button",className:"profile__edit-button",onClick:n})]}),Object(p.jsx)("button",{type:"button",className:"profile__add-button",onClick:a})]}),Object(p.jsx)("section",{className:"elements page__content",children:l.map((function(e){return Object(p.jsx)(j,{name:e.name,link:e.link,likes:e.likes,id:e.owner._id,card:e,onCardClick:c,onCardDelete:i,onDeleteClick:s,onCardLike:r},e._id)}))})]})};var _=function(){return Object(p.jsx)("footer",{className:"footer page__footer",children:Object(p.jsx)("p",{className:"footer__text",children:"\xa9 2021 Mesto Russia"})})};var h=function(e){return Object(p.jsx)("div",{className:"popup popup_type_".concat(e.name," ").concat(e.isOpen?"popup_opened":""),onClick:e.onClick,children:Object(p.jsxs)("div",{className:"popup__container",children:[Object(p.jsx)("h2",{className:"popup__title",children:e.title}),Object(p.jsxs)("form",{name:e.name,id:e.id,className:"popup__form",onSubmit:e.onSubmit,children:[e.children,Object(p.jsx)("button",{type:"submit",className:"popup__submit-button popup__submit-button_type_delete",children:e.buttonText})]}),Object(p.jsx)("button",{type:"button",className:"popup__close-button",onClick:e.onClose})]})})};var O=function(e){var t=e.isOpen,n=e.onClose,a=e.buttonText,c=e.onOverlayClick,i=e.onUpdateUser,s=o.a.useState(""),u=Object(r.a)(s,2),l=u[0],d=u[1],j=o.a.useState(""),b=Object(r.a)(j,2),f=b[0],_=b[1],O=o.a.useContext(m);return o.a.useEffect((function(){d(O.name),_(O.about)}),[O,t]),Object(p.jsxs)(h,{isOpen:t,onClose:n,buttonText:a,onClick:c,onSubmit:function(e){e.preventDefault(),i({name:l,description:f})},title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",name:"edit",id:"form-avatar",children:[Object(p.jsx)("input",{type:"text",id:"user-name",name:"name",placeholder:"\u0418\u043c\u044f",className:"popup__field popup__field_type_profile-name popup__input",value:l||"",onChange:function(e){d(e.target.value)},minLength:"2",maxLength:"40",required:!0}),Object(p.jsx)("span",{id:"user-name-error",className:"error"}),Object(p.jsx)("input",{type:"text",id:"description",name:"description",placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",className:"popup__field popup__field_type_profile-description popup__input",value:f||"",onChange:function(e){_(e.target.value)},minLength:"2",maxLength:"200",required:!0}),Object(p.jsx)("span",{id:"description-error",className:"error"})]})};var v=function(e){var t=e.isOpen,n=e.onClose,a=e.buttonText,c=e.onOverlayClick,i=e.onAddPlace,s=o.a.useState(""),u=Object(r.a)(s,2),l=u[0],d=u[1],m=o.a.useState(""),j=Object(r.a)(m,2),b=j[0],f=j[1];return o.a.useEffect((function(){t&&(d(""),f(""))}),[t]),Object(p.jsxs)(h,{isOpen:t,onClose:n,buttonText:a,onClick:c,onSubmit:function(e){e.preventDefault(),i({name:l,link:b})},title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",name:"new-card",id:"form-card",children:[Object(p.jsx)("input",{type:"text",id:"name-card",name:"name-picture",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",className:"popup__field popup__field_type_card-name popup__input popup__input_type_name",value:l,onChange:function(e){d(e.target.value)},minLength:"2",maxLength:"30",required:!0}),Object(p.jsx)("span",{id:"name-card-error",className:"error"}),Object(p.jsx)("input",{type:"url",id:"link",name:"picture-url",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",className:"popup__field popup__field_type_card-src popup__input popup__input_type_url",value:b,onChange:function(e){f(e.target.value)},minLength:"2",required:!0}),Object(p.jsx)("span",{id:"link-error",className:"error"})]})};var x=function(e){var t=e.isOpen,n=e.onClose,a=e.buttonText,c=e.onOverlayClick,i=e.onUpdateAvatar,s=o.a.useRef(null);return Object(p.jsxs)(h,{isOpen:t,onClose:n,buttonText:a,onClick:c,onSubmit:function(e){e.preventDefault(),i({avatar:s.current.value})},title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",name:"avatar",id:"form-avatar",children:[Object(p.jsx)("input",{type:"text",id:"user-avatar",name:"avatar",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",className:"popup__field popup__field_type_profile-avatar popup__input",ref:s,minLength:"2",required:!0}),Object(p.jsx)("span",{id:"user-avatar-error",className:"error"})]})};var g=function(e){return Object(p.jsx)("div",{className:"popup popup_type_".concat(e.name," ").concat(e.card.isOpen?"popup_opened":""),onClick:e.onOverlayClick,children:Object(p.jsxs)("div",{className:"popup__content",children:[Object(p.jsx)("img",{src:e.card.link,alt:e.card.name,className:"popup__image"}),Object(p.jsx)("p",{className:"popup__caption",children:e.card.name}),Object(p.jsx)("button",{type:"button",className:"popup__close-button",onClick:e.onClose})]})})};var k=function(e){var t=e.isOpen,n=e.onClose,a=e.buttonText,o=e.onOverlayClick,c=e.onCardDelete;return Object(p.jsx)(h,{isOpen:t,onClose:n,buttonText:a,onClick:o,title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",name:"delete",id:"form-delete",onSubmit:function(e){e.preventDefault(),c()}})},C=n(12),y=n(13),N=new(function(){function e(t){var n=t.address,a=t.groupID,o=t.token;Object(C.a)(this,e),this._address=n,this._groupID=a,this._token=o}return Object(y.a)(e,[{key:"getAppInfo",value:function(){return Promise.all([this.getUserInfoApi(),this.getCardList()])}},{key:"getUserInfoApi",value:function(){return this._get("users/me")}},{key:"setUserInfoApi",value:function(e,t){return this._set("users/me","PATCH",{name:e,about:t})}},{key:"setUserAvatarApi",value:function(e){return this._set("users/me/avatar","PATCH",e)}},{key:"getCardList",value:function(){return this._get("cards")}},{key:"addNewCard",value:function(e){var t=e.name,n=e.link;return this._set("cards","POST",{name:t,link:n})}},{key:"deleteCard",value:function(e){var t="cards/".concat(e);return this._delete(t,"DELETE")}},{key:"likeCard",value:function(e){var t="cards/likes/".concat(e);return this._put(t,"PUT")}},{key:"unlikeCard",value:function(e){var t="cards/likes/".concat(e);return this._delete(t,"DELETE")}},{key:"_put",value:function(e,t){var n={method:t,headers:{authorization:this._token}};return fetch(this._url(e),n).then(this._getResponseData)}},{key:"_delete",value:function(e,t){var n={method:t,headers:{authorization:this._token}};return fetch(this._url(e),n).then(this._getResponseData)}},{key:"_get",value:function(e){var t={headers:{authorization:this._token}};return fetch(this._url(e),t).then(this._getResponseData)}},{key:"_set",value:function(e,t,n){var a={method:t,headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify(n)};return fetch(this._url(e),a).then(this._getResponseData)}},{key:"_url",value:function(e){return"".concat(this._address,"/").concat(this._groupID,"/").concat(e)}},{key:"_getResponseData",value:function(e){return e.ok?e.json():Promise.reject("\u0423\u043f\u0441, \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0430\u0441\u044c \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}}]),e}())({address:"http://mesto.allison.backend.nomoredomains.work",groupID:"cohort-29",token:"624546b9-bde3-4fa2-b3a8-c5df4547d603"}),S=n(8),L=n(6),T=n(5),D="http://mesto.allison.backend.nomoredomains.work",I=function(e){return e.ok?e.json():Promise.reject("\u0423\u043f\u0441, \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0430\u0441\u044c \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))},E=n.p+"static/media/complite_icon.1b6082f8.svg";var w=function(e){var t=o.a.useCallback((function(){e.setIsOpen(!1),e.handleClose&&e.handleClose()}),[e]);return o.a.useEffect((function(){if(e.isOpen){var n=function(e){e.key,t()};return document.addEventListener("keydown",n),function(){document.removeEventListener("keydown",n)}}}),[e.isOpen,t]),Object(p.jsx)("div",{className:"popup popup_type_".concat(e.name," ").concat(e.isOpen?"popup_opened":""),onClick:function(t){t.target.classList.contains("popup")&&e.setIsOpen(!1)},children:Object(p.jsxs)("div",{className:"popup__container popup__container_info",children:[Object(p.jsx)("img",{src:e.config.icon,alt:"\u0438\u043d\u0444\u043e\u0438\u043a\u043e\u043d\u043a\u0430",className:"popup__icon"}),Object(p.jsx)("h2",{className:"popup__info",children:e.config.info}),Object(p.jsx)("button",{type:"button",className:"popup__close-button",onClick:t})]})})},A=n.p+"static/media/fail_icon.df8eddf6.svg";var P=function(e){var t=e.onClose,n=e.onOverlayClick,a=o.a.useState({email:"",password:""}),c=Object(r.a)(a,2),i=c[0],s=c[1],l=Object(u.g)(),d=o.a.useState(!1),m=Object(r.a)(d,2),j=m[0],b=m[1],f=o.a.useState({info:"",icon:"",status:""}),_=Object(r.a)(f,2),h=_[0],O=_[1],v=function(e){var t=e.target,n=t.name,a=t.value;s((function(e){return Object(L.a)(Object(L.a)({},e),{},Object(S.a)({},n,a))}))};return Object(p.jsxs)("div",{className:"auth",children:[Object(p.jsx)("h2",{className:"auth__title",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(p.jsxs)("form",{className:"auth__form",onSubmit:function(e){e.preventDefault(),console.log(i),function(e){return fetch("".concat(D,"/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return I(e)})).then((function(e){return e}))}(i).then((function(e){400!==e.statusCode?(O({info:"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!",icon:E,status:"complite"}),b(!0)):(O({info:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437.",icon:A,status:"fail"}),b(!0))})).catch((function(){O({info:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437.",icon:A,status:"fail"}),b(!0)}))},children:[Object(p.jsx)("input",{type:"text",id:"register-mail",name:"email",value:i.email||"",onChange:v,placeholder:"Email",className:"auth__field",minLength:"2",maxLength:"30",required:!0}),Object(p.jsx)("input",{type:"password",id:"register-pass",name:"password",value:i.password||"",onChange:v,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",className:"auth__field",minLength:"2",maxLength:"30",required:!0}),Object(p.jsx)("button",{type:"submit",className:"auth__submit-button",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(p.jsx)(T.b,{to:"/sign-in",target:"_self",className:"auth__login-link",children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? \u0412\u043e\u0439\u0442\u0438"}),Object(p.jsx)(w,{isOpen:j,onOverlayClick:n,onClose:t,name:"infoToolTip",handleClose:function(){"complite"===h.status&&l("/sign-in")},config:h,setIsOpen:b})]})};var U=function(e){var t=e.onLogin,n=o.a.useState({email:"",password:""}),a=Object(r.a)(n,2),c=a[0],i=a[1],s=Object(u.g)(),l=o.a.useState(!1),d=Object(r.a)(l,2),m=d[0],j=d[1],b={icon:A,info:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437."},f=function(e){var t=e.target,n=t.name,a=t.value;i((function(e){return Object(L.a)(Object(L.a)({},e),{},Object(S.a)({},n,a))}))};return Object(p.jsxs)("div",{className:"auth",children:[Object(p.jsx)("h2",{className:"auth__title",children:"\u0412\u0445\u043e\u0434"}),Object(p.jsxs)("form",{className:"auth__form",onSubmit:function(e){e.preventDefault(),c.email&&c.password&&function(e){return fetch("".concat(D,"/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return I(e)}))}(c).then((function(e){console.log(e),e.statusCode,e.token?(i({email:"",password:""}),localStorage.setItem("token",e.token),console.log(localStorage.getItem("token")),t(),s("/")):j(!0)})).catch((function(){j(!0)}))},children:[Object(p.jsx)("input",{type:"text",id:"login-mail",name:"email",value:c.email||"",onChange:f,placeholder:"Email",className:"auth__field",minLength:"2",maxLength:"30",required:!0}),Object(p.jsx)("input",{type:"password",id:"login-pass",name:"password",value:c.password||"",onChange:f,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",className:"auth__field",minLength:"2",maxLength:"30",required:!0}),Object(p.jsx)("button",{type:"submit",className:"auth__submit-button",children:"\u0412\u043e\u0439\u0442\u0438"})]}),Object(p.jsx)(w,{isOpen:m,name:"infoToolTip",config:b,setIsOpen:j})]})},q=n(15),R=["component"];var z=function(e){var t=e.component,n=Object(q.a)(e,R);return n.loggedIn?Object(p.jsx)(t,Object(L.a)({},n)):Object(p.jsx)(u.a,{to:"./sign-in"})};var J=function(){var e=o.a.useState(!1),t=Object(r.a)(e,2),n=t[0],a=t[1],c=o.a.useState(!1),i=Object(r.a)(c,2),l=i[0],j=i[1],h=o.a.useState(!1),C=Object(r.a)(h,2),y=C[0],S=C[1],L=o.a.useState({isOpen:!1}),T=Object(r.a)(L,2),E=T[0],w=T[1],A=o.a.useState(!1),q=Object(r.a)(A,2),R=q[0],J=q[1],F=o.a.useState({}),B=Object(r.a)(F,2),H=B[0],M=B[1],G=o.a.useState([]),K=Object(r.a)(G,2),Q=K[0],V=K[1],W=o.a.useState(null),X=Object(r.a)(W,2),Y=X[0],Z=X[1],$=o.a.useState(""),ee=Object(r.a)($,2),te=ee[0],ne=ee[1],ae=o.a.useState(!1),oe=Object(r.a)(ae,2),ce=oe[0],ie=oe[1],se=Object(u.g)();function re(){a(!1),j(!1),S(!1),w({isOpen:!1}),J(!1)}function ue(e){e.target.classList.contains("popup")&&re()}o.a.useEffect((function(){le()}),[]),o.a.useEffect((function(){ce&&N.getAppInfo().then((function(e){var t=Object(r.a)(e,2),n=t[0],a=t[1];M(n),V(a)})).catch((function(e){return alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u044f \u0434\u0430\u043d\u043d\u044b\u0445: ".concat(e))}))}),[ce]),o.a.useEffect((function(){if(l||n||y||E.isOpen||R){function e(e){"Escape"===e.key&&re()}return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}}),[l,n,y,E.isOpen,R]);var le=function(){localStorage.getItem("token")&&function(e){return fetch("".concat(D,"/users/me"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return I(e)})).then((function(e){return e}))}(localStorage.getItem("token")).then((function(e){console.log(e),e&&(ie(!0),ne(e.data.email))})).catch((function(e){return alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u044f \u0434\u0430\u043d\u043d\u044b\u0445: ".concat(e))}))};return Object(p.jsxs)("div",{className:"page__container",children:[Object(p.jsx)(d,{loggedIn:ce,onLogout:function(e){e.preventDefault(),localStorage.removeItem("token"),ie(!1),se("/sign-in")},email:te}),Object(p.jsxs)(u.d,{children:[Object(p.jsx)(u.b,{path:"/sign-up",element:Object(p.jsx)(P,{onClose:re,onOverlayClick:ue})}),Object(p.jsx)(u.b,{path:"/sign-in",element:ce?Object(p.jsx)(u.a,{to:"/"}):Object(p.jsx)(U,{onLogin:function(){ie(!0)}})}),Object(p.jsx)(u.b,{exact:!0,path:"/",element:Object(p.jsxs)(m.Provider,{value:H,children:[Object(p.jsx)(b.Provider,{value:Q,children:Object(p.jsx)(z,{loggedIn:ce,component:f,onEditAvatar:function(){a(!0)},onEditProfile:function(){j(!0)},onAddPlace:function(){S(!0)},onCardClick:function(e){var t=e.name,n=e.link,a=e.isOpen;w({name:t,link:n,isOpen:!a})},onDeleteClick:function(e){J(!0),Z(e)},onCardLike:function(e){e.likes.some((function(e){return e._id===H._id}))?N.unlikeCard(e._id).then((function(t){V((function(n){return n.map((function(n){return n._id===e._id?t:n}))}))})).catch((function(e){return alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445: ".concat(e))})):N.likeCard(e._id).then((function(t){V((function(n){return n.map((function(n){return n._id===e._id?t:n}))}))})).catch((function(e){return alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445: ".concat(e))}))}})}),Object(p.jsx)(_,{}),Object(p.jsx)(x,{isOpen:n,onClose:re,onOverlayClick:ue,onUpdateAvatar:function(e){N.setUserAvatarApi(e).then((function(e){M({name:e.name,about:e.about,avatar:e.avatar}),re()})).catch((function(e){return alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445: ".concat(e))}))},buttonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(p.jsx)(v,{isOpen:y,onClose:re,onOverlayClick:ue,onAddPlace:function(e){var t=e.name,n=e.link;N.addNewCard({name:t,link:n}).then((function(e){V([e].concat(Object(s.a)(Q))),re()})).catch((function(e){return alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445: ".concat(e))}))},buttonText:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"}),Object(p.jsx)(O,{isOpen:l,onOverlayClick:ue,onClose:re,onUpdateUser:function(e){N.setUserInfoApi(e.name,e.description).then((function(e){M({name:e.name,about:e.about,avatar:e.avatar}),re()})).catch((function(e){return alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u044f \u0434\u0430\u043d\u043d\u044b\u0445: ".concat(e))}))},buttonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(p.jsx)(g,{card:E,onClose:re,onOverlayClick:ue}),Object(p.jsx)(k,{isOpen:R,onClose:re,onOverlayClick:ue,buttonText:"\u0414\u0430",onCardDelete:function(){N.deleteCard(Y._id).then((function(){V((function(e){return e.filter((function(e){return e._id!==Y._id?e:""}))})),re()})).catch((function(e){return alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445: ".concat(e))}))}})]})}),Object(p.jsx)(u.b,{path:"*",element:Object(p.jsx)(u.a,{to:"/"})})]})]})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),o(e),c(e),i(e)}))};i.a.render(Object(p.jsx)(o.a.StrictMode,{children:Object(p.jsx)(T.a,{children:Object(p.jsx)(J,{})})}),document.getElementById("root")),F()}},[[22,1,2]]]);
//# sourceMappingURL=main.06465167.chunk.js.map